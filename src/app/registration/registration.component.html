<app-navbar></app-navbar>

<form [formGroup]="registerForm"  (ngSubmit)="register()">
  <div class="container">
    <h1>Register</h1>
    <p>Please fill in this form to create an account.</p>
    <hr>
    <label for="name"><b>Username</b></label>
    <input type="text" placeholder="Enter name" formControlName="username"  name="name" id="username" required>
    <div class="error-message" *ngIf="registerForm.get('username')!.invalid && registerForm.get('username')!.touched && registerForm.get('username')!.hasError('required')">Username is required
      <!-- <div  style="color: red" *ngIf="registerForm.get('username')!.hasError('required')" class="error-message">Username is required</div> -->
    </div>
    <div  style="color: red" *ngIf="registerForm.get('username').hasError('minlength')">
      Username must be at least 5 characters long
    </div>

    <label for="email"><b>Email</b></label>
    <input type="text" placeholder="Enter Email"  formControlName="email"  name="email" id="email" required>
    <div *ngIf="registerForm.get('email')!.invalid && registerForm.get('email')!.touched">
      <div  class="error-message" style="color: red" *ngIf="registerForm.get('email')!.hasError('required')">Email is Required</div>
    </div>
    <div class="error-message"  style="color: red" *ngIf="registerForm.get('email').hasError('email')">
      Invalid email format
    </div>

    <label for="psw"><b>Password</b></label>
    <input type="password" placeholder="Enter Password"  formControlName="password" name="psw" id="password" required>
    <div  *ngIf="registerForm.get('password')!.invalid && registerForm.get('password')!.touched">
      <div class="error-message" style="color: red" *ngIf="registerForm.get('password').hasError('required')">Password is required</div>
    </div>
    <div class="error-message" style="color: red" *ngIf="registerForm.get('password').hasError('pattern')">
      Password must include at least one uppercase letter, one lowercase letter, one digit, and one special character
    </div>

    <label for="confirmPassword"><b>Confirm Password</b></label>
    <input type="password" placeholder="Confirm Password"  formControlName="confirmPassword" name="confirmPassword" id="confirmPassword" required>
    <div class="error-message" *ngIf="registerForm.get('confirmPassword')!.invalid && registerForm.get('confirmPassword')!.touched">
      <div class="error-message"  style="color: red" *ngIf="registerForm.get('confirmPassword')!.hasError('required')">Confirm Password is required</div>
    </div>
    <div class="error-message"  style="color: red" *ngIf="registerForm.get('confirmPassword').hasError('passwordMismatch')">
      Passwords do not match
    </div>



    <label for="mobile"><b>Mobile</b></label>
      <input type="tel" placeholder="Enter Mobile"  formControlName="mobile"  name="mobile" id="mobile" required>
      <div class="error-message"  *ngIf="registerForm.get('mobile')!.invalid && registerForm.get('mobile')!.touched">
        <div style="color: red" *ngIf="registerForm.get('mobile').hasError('required')">Mobile number is required</div>
      </div>
      <div>
        <div id="invalid"  style="color: red" *ngIf="registerForm.get('mobile').hasError('pattern')">Invalid mobile number format</div>

      </div>
      <!-- <div class="error-message" *ngIf="registerForm.get('mobile').hasError('pattern')">Invalid mobile number format</div> -->

      <label for="role"><b>Role</b></label>
        <!-- <input type="text" placeholder="Enter role" formControlName="role"  name="role" id="role" required> -->
        <select id="role" formControlName="role" required>

          <option value="Admin">Admin</option>
          <option value="Organizer">Organizer</option>
        </select>
        <div  style="color:red" *ngIf="registerForm.get('role')!.invalid && registerForm.get('role')!.touched">
          Role is required</div>

    <hr>
    <p>By creating an account you agree to our <a href="#">Terms & Privacy</a>.</p>
    <button type="submit" class="registerbtn">Register</button>
  </div>

  <div class="container signin">
    <p>Already have an account? <a (click)="signIn()">Sign in</a>.</p>
  </div>
</form>
